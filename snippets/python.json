{
  "Main entry point": {
    "prefix": "py-main",
    "description": "Main entry point template",
    "body": [
      "def main() -> None:",
      "    ${1:...}",
      "",
      "",
      "if __name__ == '__main__':",
      "    main()",
      ""
    ]
  },
  "Create a function": {
    "prefix": "py-def",
    "description": "Function template",
    "body": [
      "def ${1:new_function}($2) -> ${3:None}:",
      "    ${4:raise NotImplementedError('$1() was not implemented.')}"
    ]
  },
  "Class definition": {
    "prefix": "py-class",
    "body": "class ${1:ClassName}():\n    def __init__(self, ${3:args}):\n        $0",
    "description": "Class definition"
  },
  "Property (getter)": {
    "prefix": "py-prop",
    "body": "@property\ndef ${1:attr}(self):\n    $0",
    "description": "Property getter"
  },
  "Quick try/except": {
    "prefix": "py-try",
    "description": "Quick try/except block template",
    "body": [
      "try:",
      "    ${1:...}",
      "except Exception as e:",
      "    print(f'{type(e).__name__}: {e}')",
      "$0"
    ]
  },
  "With context manager": {
    "prefix": "py-with",
    "body": "with ${1:open('file')} as ${2:f}:\n    $0",
    "description": "With context manager"
  },
  "Lambda/function expression": {
    "prefix": "py-lambda",
    "body": "lambda ${1:x}: ${2:x + 1}",
    "description": "Lambda expression"
  },
  "List comprehension": {
    "prefix": "py-lc",
    "body": "[${1:x} for ${2:x} in ${3:xs}]",
    "description": "List comprehension"
  },
  "FastAPI app": {
    "prefix": "py-fastapi-app",
    "body": "from fastapi import FastAPI\n\napp = FastAPI()\n\n@app.get(\"/\")\ndef read_root():\n    return {\"Hello\": \"World\"}",
    "description": "FastAPI minimal application"
  },
  "FastAPI path operation": {
    "prefix": "py-fastapi-route",
    "body": "@app.${1:get}(\"/${2:path}\")\ndef ${3:handler}(${4}):\n    $0",
    "description": "FastAPI route handler"
  },
  "FastAPI dependency": {
    "prefix": "py-fastapi-dep",
    "body": "from fastapi import Depends\n\ndef ${1:get_dependency}():\n    $2\n    return $3",
    "description": "FastAPI dependency function"
  },
  "Pydantic BaseModel": {
    "prefix": "py-pydbase",
    "body": "from pydantic import BaseModel\n\nclass ${1:Model}(BaseModel):\n    ${2:field}: ${3:type}\n    ",
    "description": "Pydantic BaseModel class"
  },
  "Pydantic validator": {
    "prefix": "py-pydval",
    "body": "from pydantic import validator\n\n@validator(\"${1:field}\")\ndef ${2:validate_field}(cls, v):\n    $0\n    return v",
    "description": "Pydantic validator"
  },
  "SQLAlchemy Base": {
    "prefix": "py-sa-base",
    "body": "from sqlalchemy.ext.declarative import declarative_base\nBase = declarative_base()",
    "description": "SQLAlchemy Base import"
  },
  "SQLAlchemy Model": {
    "prefix": "py-sa-model",
    "body": "class ${1:Model}(Base):\n    __tablename__ = \"${2:tablename}\"\n    id = Column(Integer, primary_key=True)\n    ${3:field} = Column(${4:Type})",
    "description": "SQLAlchemy ORM model"
  },
  "SQLAlchemy session": {
    "prefix": "py-sa-session",
    "body": "from sqlalchemy.orm import sessionmaker\nSessionLocal = sessionmaker(autocommit=False, autoflush=False, bind=${1:engine})\nsession = SessionLocal()",
    "description": "SQLAlchemy session setup"
  },
  "Pytest function": {
    "prefix": "py-pt",
    "body": "def test_${1:func}():\n    $0",
    "description": "Pytest function"
  },
  "Pytest parametrize": {
    "prefix": "py-ptp",
    "body": "@pytest.mark.parametrize(\"${1:param}\", [${2:values}])\ndef test_${3:func}(${1:param}):\n    $0",
    "description": "Pytest parametrize"
  },
  "Pytest fixture": {
    "prefix": "py-ptfix",
    "body": "@pytest.fixture\ndef ${1:my_fixture}():\n    $0",
    "description": "Pytest fixture"
  },
  "Pytest table driven": {
    "prefix": "py-pttable",
    "body": "@pytest.mark.parametrize(\"${1:param}\", [\n    ${2:value1},\n    ${3:value2}\n])\ndef test_${4:func}(${1:param}):\n    $0",
    "description": "Pytest table-driven parametrize"
  },
  "Dataclass": {
    "prefix": "py-dc",
    "body": "from dataclasses import dataclass\n\n@dataclass\nclass ${1:Name}:\n    ${2:field}: ${3:type}",
    "description": "Python dataclass"
  },
  "Docstring": {
    "prefix": "py-doc",
    "body": "\"\"\"\n${1:Summary}\n\nArgs:\n    $2\nReturns:\n    $3\n\"\"\"",
    "description": "Function docstring template"
   },
  "/usr/bin/env": {
    "prefix": "env",
    "body": "#! /usr/bin/env ${1:...}",
    "description": "shabeng to run scripts"
  }
}
